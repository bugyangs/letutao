<?php include 'header.html'; ?>

<style>
.main{
    background: none repeat scroll 0 0 #F7FBFE;
    border: 1px solid #DFDFDF;
    border-radius: 11px 11px 11px 11px;
    color: #333333;
    font-family: "Lucida Grande",Verdana,Arial,"Bitstream Vera Sans",sans-serif;
    margin: 2em auto;
    padding: 1em 2em;
    width: 700px;
}
p, li, dd, dt {
    font-size: 12px;
    line-height: 18px;
    padding-bottom: 2px;
}
*{ word-wrap:break-word; }

body, td, input, textarea, select, button{ color:#666; font:12px/1.5 Verdana, Tahoma, Arial, 'Microsoft Yahei', 'Simsun', sans-serif; }
ul, dl, dd, p, h1, h2, h3, h4, h5, h6, form, fieldset { margin:0; padding:0; }
h1, h2, h3, h4, h5, h6{ font-size:12px; }
a{ color:#2366A8; text-decoration:none; }
a img{ border:none; }
em, cite, strong, th{ font-style:normal; font-weight:normal; }
table{ border-collapse:collapse; }
	th{ text-align:left; }

	.main h3{ margin:10px auto; width:75%; color:#6CA1B4; font-weight:700; }
.desc{ margin:0 auto; width:537px; line-height:180%; clear:both; }
	.desc ul{ margin-left:20px; }
.desc1{ margin:10px 0; width:100%; }
	.desc1 ul{ margin-left:25px; }
	.desc1 li{ margin:3px 0; }
.tb, .tb2{ margin:15px 0 15px 67px; }
	.tb th{ padding:5px; color:#6CA1B4; font-weight:700; }
	.tb td{ padding:3px 5px; }
		.tb .w, .tb .nw, .tb .padleft{ padding-left:45px; }
		.tb .pdleft1{ padding-left:67px; }
.tb2{}
	.tb2 th, .tb2 td{ padding:3px 5px; }
	.tbopt{ width:130px; }
.btnbox{ text-align:center; }
	.btnbox input{ margin:0 2px; }
	.btnbox textarea{ margin-bottom:10px; height:150px; }
.btn{ margin-top:10px; }
.footer{ line-height:40px; text-align:center; background:url(bg_footer.gif) repeat-x; font-size:11px; }

/* form */
.txt{ width:200px; }

/* step num */
.setup{ margin:46px 0 0 200px; padding-left:70px; }
	.setup h2{ padding-top:0; *padding-top:6px; line-height:1.2; color:#6CA1B4; font-size:36px; }
	.setup p{ margin:0 0 10px 6px; color:#999; }
.step1{ background:url(stepnum.gif) no-repeat 0 8px; }
.step2{ background:url(stepnum.gif) no-repeat 0 -92px;  }
.step3{ background:url(stepnum.gif) no-repeat 0 -192px; }
.step4{ background:url(stepnum.gif) no-repeat 0 -292px; }

/* step status */
.stepstat{ position:relative; bottom:-5px; *bottom:0; left:80px; *width:593px; height:30px; }
	.stepstatbg{ position:absolute; top:18px; z-index:90; width:535px; height:9px; overflow:hidden; background:#81C6F0 url(bg_stepstatus.gif) no-repeat; }
	.stepstat ul{ position:absolute; top:3px; left:-2px; z-index:100; list-style:none; width:600px; white-space:nowrap; overflow:hidden; }
		.stepstat li{ float:left; text-indent:20px; width:175px; height:30px; line-height:14px; font-size:12px; background:url(install/skins/bg_repno.gif) no-repeat 0 -38px; }
		.stepstat .current{ background:url(install/skins/bg_repno.gif) no-repeat 0 -71px; font-weight:700; }
		.stepstat .unactivated{ background:url(install/skins/bg_repno.gif) no-repeat 0 -103px; }
		.stepstat .last{ width:50px; }
.stepstat1{ background-position:-750px 0; }
.stepstat2{ background-position:-570px 0; }
.stepstat3{ background-position:-390px 0; }
.stepstat4{ background-position:-210px 0; }

/* file status */
.w{ background:url(install/skins/bg_repno.gif) no-repeat 45px -148px;  }
.nw{ background:url(install/skins/bg_repno.gif) no-repeat 45px -197px; }

/* space */
.marginbot{ margin-bottom:20px; }
.margintop{ margin-top:20px; }
.red{ color:red; }

.licenseblock{ margin-bottom:15px; padding:8px; height:280px; border:1px solid #EEE; background:#FFF; overflow:scroll; overflow-x:hidden; }
.license{}
	.license h1{ padding-bottom:10px; font-size:14px; text-align:center; }
	.license h3{ margin:0; color:#666; }
	.license p{ line-height:150%; margin:10px 0; text-indent:25px; }
	.license li{ line-height:150%; margin:5px 0; }
.title{ margin:5px 0 -15px 60px; }

#notice { overflow: hidden; margin: 20px; padding: 5px; height: 300px; border: 1px solid #B5CFD9; text-align: left; }
.message {
    background-color: #FFFFE0;
    border: 1px solid #E6DB55;
    margin: 5px 0 15px;
    padding: 0.3em 0.6em;
}

.submit input, .button, .button-secondary {
    -moz-box-sizing: content-box;
    border: 1px solid #BBBBBB;
    border-radius: 15px 15px 15px 15px;
    color: #464646;
    cursor: pointer;
    font-family: "Lucida Grande",Verdana,Arial,"Bitstream Vera Sans",sans-serif;
    font-size: 14px !important;
    line-height: 16px;
    padding: 6px 12px;
    text-decoration: none;
}
.button:hover, .button-secondary:hover, .submit input:hover {
    border-color: #666666;
    color: #000000;
}
.button, .submit input, .button-secondary {
    background:#F2F2F2;
}
.button:active, .submit input:active, .button-secondary:active {
    background: #EEEEEE;
}

</style>

<!--main-->
<div class="midder">

<div class="main"><h2 class="title">环境检查</h2>
<table class="tb" style="margin:20px 0 20px 55px;">
<tbody><tr>
	<th>项目</th>
	<th class="padleft">乐兔淘所需配置</th>
	<th class="padleft">乐兔淘最佳配置</th>
	<th class="padleft">当前服务器</th>
</tr>
<tr>
<td>操作系统</td>
<td class="padleft">不限制</td>
<td class="padleft">类Unix</td>
<td class="w pdleft1"><?php echo $_SERVER['SERVER_SOFTWARE']; ?></td>
</tr>
<tr>
<td>PHP 版本</td>
<td class="padleft">5.1以上</td>
<td class="padleft">5.3</td>
<td class="w pdleft1"><?php echo PHP_VERSION;?></td>
</tr>
<tr>
<td>附件上传</td>
<td class="padleft">不限制</td>
<td class="padleft">2M</td>
<td class="w pdleft1"><?php echo ini_get('upload_max_filesize');?></td>
</tr>
<tr>
<td>GD 库</td>
<td class="padleft">1.0</td>
<td class="padleft">2.0</td>
<td class="w pdleft1"><?php echo $gd;?></td>
</tr>

</tbody></table>
<h2 class="title">目录、文件权限检查</h2>
<table class="tb" style="margin:20px 0 20px 55px;width:90%;">
	<tbody><tr>
	<th>目录文件</th>
	<th class="padleft">所需状态</th>
	<th class="padleft">当前状态</th>
</tr>
<tr>
<td>cache目录</td><td class="w pdleft1">可写</td>
<?php if(writable('cache')){?>
<td class="w pdleft1">可写</td>
<?php }else{?>
<td class="nw pdleft1">不可写</td>
<?php }?>
</tr>
<tr>

<td>data目录</td><td class="w pdleft1">可写</td>
<?php if(writable('data')){?>
<td class="w pdleft1">可写</td>
<?php }else{?>
<td class="nw pdleft1">不可写</td>
<?php }?>
</tr>
<tr>
<td>system_options.php文件</td><td class="w pdleft1">可写</td>
<?php if(PWriteFile("data/system_options.php")){?>
<td class="w pdleft1">可写</td>
<?php }else{?>
<td class="nw pdleft1">不可写</td>
<?php }?>
</tr>

<tr>
<td>plugins目录</td><td class="w pdleft1">可写</td>
<?php if(writable('plugins')){?>
<td class="w pdleft1">可写</td>
<?php }else{?>
<td class="nw pdleft1">不可写</td>
<?php }?>
</tr>

<tr>
<td>uploadfile目录</td><td class="w pdleft1">可写</td>
<?php if(writable('uploadfile')){?>
<td class="w pdleft1">可写</td>
<?php }else{?>
<td class="nw pdleft1">不可写</td>
<?php }?>
</tr>


</tbody></table>
<h2 class="title">函数依赖性检查</h2>
<table class="tb" style="margin:20px 0 20px 55px;width:90%;">
<tbody><tr>
	<th>函数名称</th>
	<th class="padleft">检查结果</th>
	<th class="padleft">建议</th>
</tr>
<tr>
<td>mysql_connect()</td>
<?php if(function_exists('mysql_connect')){?>
<td class="w pdleft1">支持</td>
<?php }else{?>
<td class="nw pdleft1">不支持</td>
<?php }?>
<td class="padleft">无</td>
</tr><tr>
<td>gethostbyname()</td>
<?php if(function_exists('gethostbyname')){?>
<td class="w pdleft1">支持</td>
<?php }else{?>
<td class="nw pdleft1">不支持</td>
<?php }?>
<td class="padleft">无</td>
</tr><tr>
<td>file_get_contents()</td>
<?php if(function_exists('file_get_contents')){?>
<td class="w pdleft1">支持</td>
<?php }else{?>
<td class="nw pdleft1">不支持</td>
<?php }?>
<td class="padleft">无</td>
</tr><tr>
<td>fsockopen()</td>
<?php if(function_exists('fsockopen')){?>
<td class="w pdleft1">支持</td>
<?php }else{?>
<td class="nw pdleft1">不支持</td>
<?php }?>
<td class="padleft">无</td>
</tr>

<tr>
<td>allow_url_fopen</td>
<?php if(ini_get("allow_url_fopen") == "1"){?>
<td class="w pdleft1">支持</td>
<?php }else{?>
<td class="nw pdleft1">不支持</td>
<?php }?>
<?php if(ini_get("allow_url_fopen") == "1"){?>
<td class="padleft">无</td>
<?php }else{?>
<td class="padleft">将影响商品分享功能，建议开启</td>
<?php }?>

</tr>

</tbody></table>
<p class="step"><a class="button" href="index.php?install=mysql">下一步创建数据库</a></p>
	</div>

</div>

<?php include 'footer.html'; ?>

