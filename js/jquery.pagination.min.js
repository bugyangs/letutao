jQuery.fn.pagination=function(g,a){a=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"\u4e0a\u4e00\u9875",next_text:"\u4e0b\u4e00\u9875",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,isJump:!1,callback_run:!0,callback:function(){return!1}},a||{});return this.each(function(){function j(){return Math.ceil(g/a.items_per_page)}function k(b,c){d=b;l();var f=a.callback(b,h);f||(c.stopPropagation?c.stopPropagation():c.cancelBubble=
!0);return f}function l(){h.empty();var b;b=Math.ceil(a.num_display_entries/2);var c=j(),f=c-a.num_display_entries,f=d>b?Math.max(Math.min(d-b,f),0):0;b=d>b?Math.min(d+b,c):Math.min(a.num_display_entries,c);b=[f,b];var i=j(),g=function(b){return function(d){if(!a.isJump)return k(b,d)}},c=function(b,c){var b=0>b?0:b<i?b:i-1,c=jQuery.extend({text:b+1,classes:""},c||{}),e=b==d?jQuery("<span class='current'>"+c.text+"</span>"):jQuery("<a>"+c.text+"</a>").bind("click",g(b)).attr("href",a.link_to.replace(/__id__/,
b));c.classes&&e.addClass(c.classes);h.append(e)};a.prev_text&&(0<d||a.prev_show_always)&&c(d-1,{text:a.prev_text,classes:"prev"});if(0<b[0]&&0<a.num_edge_entries){for(var f=Math.min(a.num_edge_entries,b[0]),e=0;e<f;e++)c(e);a.num_edge_entries<b[0]&&a.ellipse_text&&jQuery("<span>"+a.ellipse_text+"</span>").appendTo(h)}for(e=b[0];e<b[1];e++)c(e);if(b[1]<i&&0<a.num_edge_entries){i-a.num_edge_entries>b[1]&&a.ellipse_text&&jQuery("<span>"+a.ellipse_text+"</span>").appendTo(h);for(e=Math.max(i-a.num_edge_entries,
b[1]);e<i;e++)c(e)}if(a.next_text&&(d<i-1||a.next_show_always))c(d+1,{text:a.next_text,classes:"next"}),h.parent().hasClass("page-box")&&jQuery('<i class="pagin-scene"></i>').appendTo(h.find(".next"))}var d=a.current_page;g=!g||0>g?1:g;a.items_per_page=!a.items_per_page||0>a.items_per_page?1:a.items_per_page;var h=jQuery(this);this.selectPage=function(a){k(a)};this.prevPage=function(){return 0<d?(k(d-1),!0):!1};this.nextPage=function(){return d<j()-1?(k(d+1),!0):!1};l();a.callback_run&&a.callback(d,
this);1==j()&&jQuery(".pagin").css("display","none");1<j()&&jQuery(".pagin").css("display","")})};
